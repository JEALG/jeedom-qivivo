<style type="text/css">
  .qivivo-dropdown {
    position: relative;
    display: inline-block;
    font-size: 22px;
    font-weight: bold;
    padding : 0.2em;
    width: 100% !important;
    box-shadow: 0 2px 4px 0 rgba(0,0,0,.25);
  }

  .qivivo-dropdown select {
    border: 0;
    text-overflow: '';
    border: none;
    background-color: rgba(46,141,205,0.35);
    color:#ffffff; width: 85%;
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    background-color: transparent !important;
  }

  .qivivo-dropdown::before,
  .qivivo-dropdown::after {
    content: "";
    position: absolute;
    pointer-events: none;
  }

  .qivivo-dropdown::after { /*  Custom dropdown arrow */
    content: "\25BC";
    height: 2em;
    font-size: .9em;
    line-height: 1em;
    right: 0.9em;
    top: 25%;
  }

  .qivivo-dropdown select option {
    margin: 40px;
    background-color: #f7f7f7 !important;;
    color: #4b4b4b !important;
    border: none !important;
  }
</style>

<div class="eqLogic eqLogic-widget allowResize allowReorderCmd allowLayout "
      style="width:#width#; height:#height#; background-color:#background-color#; color:#color#; border:#border#; border-radius:#border-radius#;#style#"
      data-eqLogic_id="#id#" data-eqLogic_uid="#uid#" data-version="#version#" data-category="#category#">
  <span class="statusCmd" style="position : absolute;left : 5px; width : 30px;z-index: 1030;"></span>
  <i class='fa fa-refresh pull-right cursor refresh' style="margin-top: 3px;margin-right: 3px;"></i>
  <span class="cmd cmd-widget" data-cmd_id="#refresh_id#" style="display:none;"></span>
  <center class="widget-name"><a href="#eqLink#" style="font-size : 1.1em;#hideEqLogicName#">#name_display# <span style="font-size: 0.75em;position: relative;top:-2px;">#object_name#</span></a></center>

  <center>
    <hr style="height:7px; visibility:hidden; padding:0; margin:0">
    <div class="cmd cmd-widget reportModeHidden" data-type="action" data-subtype="select" data-cmd_id="#set_order_id#" data-version="#version#" data-eqLogic_id="#id#" style="width: 100%" title="#order_collectDate#">
        <span class="qivivo-dropdown">
          <i class="divers-thermometer31"></i>
          <select class="qivivoselect cursor" data-l2key="graphColor">#set_order_listValue#</select>
        </span>
    </div>
    <hr style="height:7px; visibility:hidden; padding:0; margin:0">

    <div class="cmd cmd-widget reportModeHidden" data-type="action" data-subtype="select" data-cmd_id="#set_program_id#" data-version="#version#" data-eqLogic_id="#id#" style="width: 100%" title="#program_collectDate#">
        <span class="qivivo-dropdown">
          <i class="divers-today1"></i>
          <select class="qivivoselect cursor" data-l2key="graphColor">#set_program_listValue#</select>
        </span>
    </div>
    <hr style="height:10px; visibility:hidden; padding:0; margin:0">

    <div class="#last_communication_history#" data-cmd_id="#last_communication_id#">
      <i class="nature-leaf37"></i> <strong class="tooltips" style="font-size:12px;">#last_communication#</strong>
    </div>
  </center>

  <script>
    $('select option').filter(function() { return !this.value || $.trim(this.value).length == 0;}).remove();

    $('.eqLogic[data-eqLogic_uid=#uid#] .refresh').on('click', function () {
        jeedom.cmd.execute({id: '#refresh_id#'});
      })

    $(".cmd[data-cmd_id=#set_order_id#] .qivivoselect").on('change', function () {
      jeedom.cmd.execute({id: '#set_order_id#', value: {select: $(this).value()}});
    })

    $(".cmd[data-cmd_id=#set_program_id#] .qivivoselect").on('change', function () {
      jeedom.cmd.execute({id: '#set_program_id#', value: {select: $(this).value()}});
    })
  </script>
</div>

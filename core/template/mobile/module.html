<div class="eqLogic eqLogic-widget"
      style="min-height:150px !important; background-color:#background-color#; color:#color#; border:#border#; border-radius:#border-radius#; #style#"
      data-eqLogic_id="#id#" data-eqLogic_uid="#uid#" data-version="#version#">
  <span class="statusCmd" style="position:absolute; left:5px; width:30px; z-index:1030;"></span>
  <i class='fa fa-refresh pull-right cursor refresh' style="margin-top: 3px;margin-right: 3px;"></i>
  <span class="cmd cmd-widget" data-cmd_id="#refresh_id#" style="display:none;"></span>
  <center class="widget-name" style="#hideEqLogicName#">#name_display# <span style="font-size: 0.85em;position: relative;top:-2px;">#object_name#</span></center>

  <center>
    <span class="cmd cmd-widget" data-type="action" data-subtype="select" data-cmd_id="#SetMode_id#" data-version="#version#" data-eqLogic_id="#id#">
        <div><select>#SetMode_listValue#</select></div>
    </span>


    <span class="cmd cmd-widget" data-type="action" data-subtype="select" data-cmd_id="#SetProgram_id#" data-version="#version#" data-eqLogic_id="#id#">
        <div><select>#SetProgram_listValue#</select></div>
    </span>

    <span class="cmd #lastmsg_history#" data-cmd_id="#lastmsg_id#">
      <div><i class="nature-leaf37"></i> <strong class="tooltips" title="#lastpres_collectDate#" style="font-size:12px;">#lastmsg#</strong></div>
    </span>
  </center>

  <script>
    $('select option').filter(function() { return !this.value || $.trim(this.value).length == 0;}).remove();

    $('.eqLogic[data-eqLogic_uid=#uid#] .refresh').on('click', function () {
        jeedom.cmd.execute({id: '#refresh_id#'});
      })

    $(".cmd[data-cmd_id=#SetMode_id#] select").on('change', function () {
      jeedom.cmd.execute({id: '#SetMode_id#', value: {select: $(this).value()}})
    })

    $(".cmd[data-cmd_id=#SetProgram_id#] select").on('change', function () {
      jeedom.cmd.execute({id: '#SetProgram_id#', value: {select: $(this).value()}})
    })
  </script>
</div>
